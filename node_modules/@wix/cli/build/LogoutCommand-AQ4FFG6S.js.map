{"version":3,"sources":["../src/components/LogoutCommand/index.ts","../src/components/LogoutCommand/LogoutCommand.tsx"],"sourcesContent":["export { LogoutCommand } from './LogoutCommand.js';\n","import React from 'react';\nimport type { FC } from 'react';\nimport type { UserInfo } from '@wix/cli-auth';\nimport {\n  Box,\n  ConfirmInput,\n  useAsyncCallback,\n  Spinner,\n  Text,\n} from '@wix/cli-ui-kit';\nimport { Trans, useTranslation } from '@wix/cli-i18n';\nimport { logout } from '@wix/cli-auth';\nimport { match } from 'variant';\n\ninterface Props {\n  userInfo: UserInfo | null;\n}\n\nexport const LogoutCommand: FC<Props> = ({ userInfo }) => {\n  const { t } = useTranslation();\n  const logoutAction = useAsyncCallback(logout);\n\n  if (userInfo == null) {\n    return <Trans i18nKey=\"logout_command.not_logged_in\" />;\n  }\n\n  return (\n    <>\n      <Box marginBottom={1}>\n        <Trans i18nKey=\"logout_command.logout_warning\" />\n      </Box>\n\n      <ConfirmInput\n        label={t('logout_command.logout_confirm')}\n        initialValue={true}\n        onSubmit={(confirmed) => {\n          if (confirmed) {\n            void logoutAction.execute();\n          }\n        }}\n      />\n\n      {match(logoutAction.status, {\n        NotRequested: () => null,\n        Error: () => null,\n        Loading: () => <Spinner />,\n        Success: () => <Text>{t('logout_command.logout_success')}</Text>,\n      })}\n    </>\n  );\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;ACAA;AAAA,mBAAkB;AAYlB,qBAAsB;AAMf,IAAM,gBAA2B,CAAC,EAAE,SAAS,MAAM;AACxD,QAAM,EAAE,EAAE,IAAI,eAAe;AAC7B,QAAM,eAAe,iBAAiB,MAAM;AAE5C,MAAI,YAAY,MAAM;AACpB,WAAO,6BAAAA,QAAA,cAAC,SAAM,SAAQ,gCAA+B;AAAA,EACvD;AAEA,SACE,6BAAAA,QAAA,2BAAAA,QAAA,gBACE,6BAAAA,QAAA,cAAC,eAAI,cAAc,KACjB,6BAAAA,QAAA,cAAC,SAAM,SAAQ,iCAAgC,CACjD,GAEA,6BAAAA,QAAA;AAAA,IAAC;AAAA;AAAA,MACC,OAAO,EAAE,+BAA+B;AAAA,MACxC,cAAc;AAAA,MACd,UAAU,CAAC,cAAc;AACvB,YAAI,WAAW;AACb,eAAK,aAAa,QAAQ;AAAA,QAC5B;AAAA,MACF;AAAA;AAAA,EACF,OAEC,sBAAM,aAAa,QAAQ;AAAA,IAC1B,cAAc,MAAM;AAAA,IACpB,OAAO,MAAM;AAAA,IACb,SAAS,MAAM,6BAAAA,QAAA,cAAC,aAAQ;AAAA,IACxB,SAAS,MAAM,6BAAAA,QAAA,cAAC,YAAM,EAAE,+BAA+B,CAAE;AAAA,EAC3D,CAAC,CACH;AAEJ;","names":["React"]}